# ----------------------------
# TvWallauShop - Caption Pipeline
# ----------------------------
DEBUG=1
LOG_LEVEL=info

# ----------------------------
# Internet-Regel
# ----------------------------
# Das Service darf ins Internet NUR zum Holen der Produktbilder (HTTP URLs).
# Für HuggingFace/Model-Downloads steuert NUR das hier:
#
# Einmalig (Model downloaden + OpenVINO Export erzeugen):
#   HF_HUB_OFFLINE=0
#   TRANSFORMERS_OFFLINE=0
#
# Danach (normaler Betrieb, kein Model-Download mehr):
HF_HUB_OFFLINE=0
TRANSFORMERS_OFFLINE=0

# ----------------------------
# Captioning (OpenVINO-first)
# ----------------------------
# Empfehlung: BLIP liefert i.d.R. deutlich bessere Produkt-Captions als vit-gpt2
CAPTION_MODEL_NAME=Salesforce/blip-image-captioning-base
CAPTION_BACKEND=auto

# Akku-freundlich: erst NPU, dann GPU, dann CPU
OPENVINO_DEVICE=AUTO:NPU,GPU,CPU

# Optional: Prompt-Steuerung (für BLIP sinnvoll)
CAPTION_USE_DECODER_PROMPT=1
CAPTION_PROMPT_PREFIX=a product photo of

# Optional: Ausgabe-Qualität
CAPTION_NUM_BEAMS=4
CAPTION_MAX_NEW_TOKENS=24
CAPTION_NO_REPEAT_NGRAM_SIZE=3
CAPTION_REPETITION_PENALTY=1.2
